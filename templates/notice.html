{% extends "base.html" %}

{% block title %}通知{% endblock %}

{% block content %}
<h2>{{ user.name }} さんの承認待ち測定記録</h2>

<form method="POST" action="{{ url_for('notice.approve_records') }}">
    <table class="member-table">
        <thead>
            <tr>
                <th>選択</th>
                <th>測定日</th>
                <th>学年</th>
                <th>氏名</th>
                <th>50m走 (秒)</th>
                <th>ベースランニング (秒)</th>
                <th>遠投距離 (m)</th>
                <th>ストレート球速 (km/h)</th>
                <th>打球速度 (km/h)</th>
                <th>スイング速度 (km/h)</th>
                <th>ベンチプレス (kg)</th>
                <th>スクワット (kg)</th>
            </tr>
        </thead>
        <tbody>
            {% for record in records %}
            <tr>
                <td rowspan="2"><input type="checkbox" name="record_ids" value="{{ record.record_id }}"></td>
                <td>{{ record.measurement_date }}</td>
                <td>{{ record.user.grade }}</td>
                <td>{{ record.user.name }}</td>
                <td>{{ record.run_50m }}</td>
                <td>{{ record.base_running }}</td>
                <td>{{ record.long_throw }}</td>
                <td>{{ record.straight_speed }}</td>
                <td>{{ record.hit_speed }}</td>
                <td>{{ record.swing_speed }}</td>
                <td>{{ record.bench_press }}</td>
                <td>{{ record.squat }}</td>
            </tr>
            <tr>
                <td>コメント</td>
                <td colspan="10">{{ record.comment }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

  <button type="submit" name="action" value="approve">承認する</button><br>
  {% if current_user.has_any_role('member', 'coach') %}
    <textarea name="comment" placeholder="コメントを入力してください"></textarea><br>
    <button type="submit" name="action" value="reject">否認する</button>
  {% endif %}

</form>
{% endblock %}