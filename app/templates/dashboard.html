{% extends "base.html" %}

{% block title %}ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰{% endblock %}

{% block content %}
<div class="container fade-in">
    <h1>ã‚ˆã†ã“ãã€{{ current_user.name }} ã•ã‚“ï¼</h1>
    
    <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚«ãƒ¼ãƒ‰ -->
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±</h3>
        </div>
        <div class="d-grid gap-3">
            <div class="d-flex justify-content-between">
                <span class="fw-bold">åå‰:</span>
                <span>{{ current_user.name }}</span>
            </div>
            <div class="d-flex justify-content-between">
                <span class="fw-bold">å½¹å‰²:</span>
                <div class="d-flex gap-2">
                    {% for role in current_user.roles %}
                        <span class="badge badge-primary">{{ role.display_name }}</span>
                    {% endfor %}
                </div>
            </div>
            <div class="d-flex justify-content-between">
                <span class="fw-bold">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:</span>
                <span class="badge badge-success">ã‚¢ã‚¯ãƒ†ã‚£ãƒ–</span>
            </div>
        </div>
    </div>

    <!-- ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">âš¡ ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h3>
        </div>
        <div class="d-grid gap-3">
            {% if current_user.has_any_role('manager', "administer") %}
            <a href="{{ url_for('measurements.records_input') }}" class="btn btn-primary">
                ğŸ“Š æ¸¬å®šè¨˜éŒ²ã‚’å…¥åŠ›
            </a>
            {% endif %}
            
            {% if 'member' in current_user.roles %}
            <a href="{{ url_for('records.records', member_id=current_user.user_id) }}" class="btn btn-secondary">
                ğŸ“ˆ è‡ªåˆ†ã®è¨˜éŒ²ã‚’ç¢ºèª
            </a>
            {% endif %}
            
            {% if current_user.has_any_role('coach', 'director', "administer") %}
            <a href="{{ url_for('members.members') }}" class="btn btn-success">
                ğŸ‘¥ éƒ¨å“¡ä¸€è¦§ã‚’è¡¨ç¤º
            </a>
            <a href="{{ url_for('team.team') }}" class="btn btn-warning">
                ğŸ† ãƒãƒ¼ãƒ åˆ†æ
            </a>
            {% endif %}
            
            <a href="{{ url_for('profile.profile') }}" class="btn btn-info">
                ğŸ‘¤ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†
            </a>
        </div>
    </div>

    <!-- ã‚·ã‚¹ãƒ†ãƒ æƒ…å ± -->
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">â„¹ï¸ ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±</h3>
        </div>
        <div class="d-grid gap-3">
            <div class="d-flex justify-content-between">
                <span>æ¸¬å®šé …ç›®æ•°:</span>
                <span class="badge badge-primary">8é …ç›®</span>
            </div>
            <div class="d-flex justify-content-between">
                <span>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹:</span>
                <span class="badge badge-success">SQLite</span>
            </div>
            <div class="d-flex justify-content-between">
                <span>ã‚·ã‚¹ãƒ†ãƒ ãƒãƒ¼ã‚¸ãƒ§ãƒ³:</span>
                <span class="badge badge-info">v1.0.0</span>
            </div>
        </div>
    </div>

    <!-- é€šçŸ¥ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    {% if current_user.has_any_role('member', 'manager', 'coach', "administer") %}
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">ğŸ”” é€šçŸ¥</h3>
        </div>
        <div class="d-grid gap-3">
            {% if notice_cnt > 0 %}
            <div class="alert alert-warning">
                <strong>{{ notice_cnt }}ä»¶</strong> ã®æ–°ã—ã„é€šçŸ¥ãŒã‚ã‚Šã¾ã™ã€‚
                <a href="{{ url_for('notice.notice') }}" class="btn btn-sm btn-warning mt-2">
                    ç¢ºèªã™ã‚‹
                </a>
            </div>
            {% else %}
            <div class="alert alert-success">
                æ–°ã—ã„é€šçŸ¥ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
            </div>
            {% endif %}
        </div>
    </div>
    {% endif %}

    <!-- ãƒ˜ãƒ«ãƒ—ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div class="card">
        <div class="card-header">
            <h3 class="card-title">â“ ãƒ˜ãƒ«ãƒ—</h3>
        </div>
        <div class="d-grid gap-3">
            <p>ã‚·ã‚¹ãƒ†ãƒ ã®ä½¿ã„æ–¹ã‚„æ“ä½œæ–¹æ³•ã«ã¤ã„ã¦è©³ã—ãçŸ¥ã‚ŠãŸã„å ´åˆã¯ã€ãƒ˜ãƒ«ãƒ—ãƒšãƒ¼ã‚¸ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
            <a href="{{ url_for('main.help') }}" class="btn btn-secondary">
                ğŸ“– ãƒ˜ãƒ«ãƒ—ãƒšãƒ¼ã‚¸ã‚’é–‹ã
            </a>
        </div>
    </div>
</div>
{% endblock %}