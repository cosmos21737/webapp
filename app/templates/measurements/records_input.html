{% extends "base.html" %}

{% block title %}æ¸¬å®šè¨˜éŒ²å…¥åŠ› | é‡çƒéƒ¨ã‚¿ãƒ¬ãƒ³ãƒˆãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ {% endblock %}

{% block content %}
<div class="container fade-in">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>ğŸ“Š æ¸¬å®šè¨˜éŒ²å…¥åŠ›</h1>
        <a href="{{ url_for('measurements.csv_import') }}" class="btn btn-secondary">
            <span class="icon">ğŸ“„</span> CSVã§ä¸€æ‹¬ç™»éŒ²
        </a>
    </div>

    <div class="card">
        <form method="POST" action="{{ url_for('measurements.submit_record') }}" class="p-4">
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="member_grade">å­¦å¹´</label>
                    <select id="member_grade" name="member_grade" class="form-control" required>
                        <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                        <option value="1">1å¹´</option>
                        <option value="2">2å¹´</option>
                        <option value="3">3å¹´</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="member_name">éƒ¨å“¡å</label>
                    <input type="text" id="member_name" name="member_name" class="form-control" required placeholder="ä¾‹: å±±ç”° å¤ªéƒ">
                </div>

                <div class="form-group">
                    <label for="measurement_date">æ¸¬å®šæ—¥</label>
                    <input type="date" id="measurement_date" name="measurement_date" class="form-control" required>
                </div>
            </div>

            <hr class="my-4">

            <h4 class="mb-3">æ¸¬å®šé …ç›®</h4>
            <div class="measurement-inputs">
                {% for type in measurement_types %}
                <div class="form-group">
                    <label for="{{ type.name }}">{{ type.display_name }} ({{ type.unit }})</label>
                    <input type="number" step="any" id="{{ type.name }}" name="{{ type.name }}" class="form-control" placeholder="æ•°å€¤ã‚’å…¥åŠ›">
                </div>
                {% endfor %}
            </div>

            <div class="form-buttons mt-4">
                <button type="submit" class="btn btn-primary btn-lg">
                    <span class="icon">ğŸ’¾</span> è¨˜éŒ²ã‚’ä¿å­˜
                </button>
                <button type="reset" class="btn btn-secondary">
                    <span class="icon">ğŸ”„</span> ãƒªã‚»ãƒƒãƒˆ
                </button>
            </div>
        </form>
    </div>
</div>

<style>
.form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
}

.measurement-inputs {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
}

.form-buttons {
    display: flex;
    justify-content: flex-end;
    gap: 1rem;
}

.btn .icon {
    margin-right: 0.5rem;
}

/* æ•°å€¤å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚¹ãƒ”ãƒŠãƒ¼ï¼ˆå¢—æ¸›ãƒœã‚¿ãƒ³ï¼‰ã‚’å‰Šé™¤ */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

input[type="number"] {
    -moz-appearance: textfield; /* Firefox */
}

/* æ•°å€¤å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚¹ã‚¿ã‚¤ãƒ«æ”¹å–„ */
input[type="number"] {
    text-align: right;
    padding-right: 12px;
}

/* ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ« */
input[type="number"]::placeholder {
    color: #6c757d;
    font-style: italic;
}
</style>

{% endblock %}